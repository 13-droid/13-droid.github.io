<style>
    .container {
      display: flex;
      gap: 20px;
    }
    .toolbox, .function-builder {
      border: 1px solid #ccc;
      padding: 10px;
      width: 45%;
      min-height: 300px;
      background-color: #f9f9f9;
    }
    .toolbox .component, .function-builder .step {
      padding: 8px;
      margin: 5px 0;
      background-color: #e3e3e3;
      border: 1px solid #bbb;
      cursor: grab;
    }
    .step {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .step .remove {
      cursor: pointer;
      color: red;
      font-weight: bold;
    }
    .output {
      margin-top: 20px;
    }
    .output input {
      width: 100%;
      padding: 8px;
      font-size: 14px;
    }
  </style>
  <h1>Password Function Tool</h1>
  <p>Drag components from the toolbox and drop them into the function builder to create your password function.</p>

  <div class="container">
    <div class="toolbox">
      <h3>Toolbox</h3>
      <div class="component" draggable="true" data-operation="length">Number of Characters</div>
      <div class="component" draggable="true" data-operation="vowels">Number of Vowels</div>
      <div class="component" draggable="true" data-operation="consonants">Number of Consonants</div>
      <div class="component" draggable="true" data-operation="reverse">Reverse</div>
      <div class="component" draggable="true" data-operation="tail">Get Last 3 Letters</div>
      <div class="component" draggable="true" data-operation="head">Get First 3 Letters</div>
      <div class="component" draggable="true" data-operation="leet">Convert to Leetspeak</div>
    </div>

    <div class="function-builder" id="functionBuilder">
      <h3>Function Builder</h3>
      <p>Drop your components here</p>
    </div>
  </div>

  <div class="output">
    <h3>Generated Function Code</h3>
    <input type="text" id="functionOutput" readonly>
  </div>

  <script>
    const toolbox = document.querySelector('.toolbox');
    const functionBuilder = document.getElementById('functionBuilder');
    const functionOutput = document.getElementById('functionOutput');

    // Drag and Drop Events
    toolbox.addEventListener('dragstart', (e) => {
      if (e.target.classList.contains('component')) {
        e.dataTransfer.setData('text/plain', e.target.getAttribute('data-operation'));
      }
    });

    functionBuilder.addEventListener('dragover', (e) => {
      e.preventDefault();
    });

    functionBuilder.addEventListener('drop', (e) => {
      e.preventDefault();
      const operation = e.dataTransfer.getData('text/plain');
      addStep(operation);
    });

    function addStep(operation) {
      const step = document.createElement('div');
      step.className = 'step';
      step.textContent = operation;

      const removeBtn = document.createElement('span');
      removeBtn.textContent = '✖';
      removeBtn.className = 'remove';
      removeBtn.addEventListener('click', () => {
        step.remove();
        updateFunctionOutput();
      });

      step.appendChild(removeBtn);
      functionBuilder.appendChild(step);

      updateFunctionOutput();
    }

    function updateFunctionOutput() {
      const steps = document.querySelectorAll('.function-builder .step');
      const functionSteps = Array.from(steps).map(step => step.textContent.replace('✖', '').trim());
      functionOutput.value = functionSteps.join(' -> ');
    }
  </script>
